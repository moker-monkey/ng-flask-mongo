var m=(u,r,t)=>new Promise((l,n)=>{var i=e=>{try{o(t.next(e))}catch(p){n(p)}},d=e=>{try{o(t.throw(e))}catch(p){n(p)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,d);o((t=t.apply(u,r)).next())});import{P as x}from"./index-f8CJvKfu.js";import{l as y}from"./entry/index-DABNShW--1710921375309.js";import{t as k}from"./account-BzTDtBQY.js";import{R as _}from"./antd-DyzPRwGU.js";import{d as C,a7 as h,Z as T,a8 as g,a9 as a,k as s,u as c,G as f,$ as S}from"./vue-CtuDRv_L.js";import"./useContentViewHeight-D_59re7m.js";import"./useWindowSizeFn-P9ujTsk2.js";import"./onMountedOrActivated-BgwR2Bmq.js";const w=S("span",null,null,-1),E=C({name:"TestSessionTimeout",__name:"index",setup(u){const r=_.Grid,t=y();function l(){return m(this,null,function*(){t.setToken(void 0),t.setSessionTimeout(!0)})}function n(){return m(this,null,function*(){try{yield k()}catch(i){console.log("接口访问错误：",i.message||"错误")}})}return(i,d)=>{const o=h("a-button");return T(),g(c(x),{title:"登录过期示例",content:"用户登录过期示例，不再跳转登录页，直接生成页面覆盖当前页面，方便保持过期前的用户状态！"},{default:a(()=>[s(c(_),{title:"请点击下面的按钮访问测试接口",extra:"所访问的接口会返回Token过期响应"},{default:a(()=>[s(c(r),{style:{width:"50%","text-align":"center"}},{default:a(()=>[s(o,{type:"primary",onClick:l},{default:a(()=>[f("HttpStatus == 401")]),_:1})]),_:1}),s(c(r),{style:{width:"50%","text-align":"center"}},{default:a(()=>[w,s(o,{class:"ml-4",type:"primary",onClick:n},{default:a(()=>[f("Response.code == 401")]),_:1})]),_:1})]),_:1})]),_:1})}}});export{E as default};
